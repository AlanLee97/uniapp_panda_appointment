(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabbar/tabbar-5/tabbar-5"],{4346:function(t,e,a){"use strict";a.r(e);var n=a("eeee"),r=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);e["default"]=r.a},"8df0":function(t,e,a){},ae3a:function(t,e,a){"use strict";var n=a("8df0"),r=a.n(n);r.a},b008:function(t,e,a){"use strict";(function(t){a("8f0e"),a("921b");n(a("66fd"));var e=n(a("e03e"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("6e42")["createPage"])},d11b:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c},r=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return r})},e03e:function(t,e,a){"use strict";a.r(e);var n=a("d11b"),r=a("4346");for(var o in r)"default"!==o&&function(t){a.d(e,t,function(){return r[t]})}(o);a("ae3a");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,null,null);e["default"]=s.exports},eeee:function(t,e,a){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;a("2f62");var r=function(){return a.e("components/QS-tabs/QS-tabs").then(a.bind(null,"8f52"))},o=function(){return a.e("components/uni-grid/uni-grid").then(a.bind(null,"ba7c"))},i=function(){return a.e("components/uni-grid-item/uni-grid-item").then(a.bind(null,"96a6"))},s={components:{QSTabs:r,uniGrid:o,uniGridItem:i},data:function(){return{title:"Hello",br:"\n",tabs:["作品","相册","文章"],current:0,tabsHeight:0,dx:0,nickname:"昵称",face:"",uid:"",works:{},images:[]}},onLoad:function(){this.checkLogin("/pages/tabbar-5/tabbar-5",0)},onShow:function(){var e=t.getStorageSync("userinfo");console.log(n("userinfo:"," at pages\\tabbar\\tabbar-5\\tabbar-5.vue:196")),console.log(n(e," at pages\\tabbar\\tabbar-5\\tabbar-5.vue:197")),this.nickname=e.nickname,this.face=e.headPortraitImg,this.uid=e.id,this.getWorksByUserId(),this.getImagesByUserId()},onPullDownRefresh:function(){this.getWorksByUserId(),setTimeout(function(){t.stopPullDownRefresh()},1e3)},methods:{_gotoPage:function(t){this.gotoPage(t)},change:function(t){this.current=t},swiperChange:function(t){var e=t.detail.current;this.current=e},transition:function(t){var e=t.detail.dx;this.$refs.tabs.setDx(e)},animationfinish:function(t){var e=t.detail.current;this.$refs.tabs.setFinishCurrent(e)},isLogin:function(){var e=t.getStorageSync("SNAME");return""!=e},getWorksByUserId:function(){var e=this;t.request({url:this.createApiUrl("/works/get/uid"),data:{uid:this.uid},success:function(t){e.works=t.data.data,console.log(n(e.works," at pages\\tabbar\\tabbar-5\\tabbar-5.vue:250"))}})},getImagesByUserId:function(){var e=this;t.request({url:this.createApiUrl("user/images"),data:{uid:this.uid},success:function(t){console.log(n(t," at pages\\tabbar\\tabbar-5\\tabbar-5.vue:263")),e.images=t.data.data,console.log(n(e.images," at pages\\tabbar\\tabbar-5\\tabbar-5.vue:265"))}})},deleteWorks:function(e){console.log(n(e," at pages\\tabbar\\tabbar-5\\tabbar-5.vue:273")),t.request({url:this.createApiUrl("works/delete"),method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{worksId:e},success:function(e){console.log(n(e," at pages\\tabbar\\tabbar-5\\tabbar-5.vue:284")),200==e.data.code?t.showToast({title:"删除成功"}):t.showToast({title:"删除失败"})},fail:function(){},complete:function(){}})},previewImg:function(e,a){t.previewImage({current:e,urls:a,indicator:"default",success:function(t){console.log(n(t," at pages\\tabbar\\tabbar-5\\tabbar-5.vue:307"))},fail:function(t){console.log(n(t," at pages\\tabbar\\tabbar-5\\tabbar-5.vue:310"))}})},confirmDelete:function(e){var a=this;t.showModal({title:"删除作品",content:"您是否要删除作品？",showCancel:!0,cancelText:"算了",confirmText:"是的",success:function(t){t.confirm?a.deleteWorks(e):t.cancel&&console.log(n("用户点击取消"," at pages\\tabbar\\tabbar-5\\tabbar-5.vue:326"))},fail:function(){},complete:function(){t.startPullDownRefresh({success:function(){setTimeout(function(){t.stopPullDownRefresh()},1e3)}})}})}}};e.default=s}).call(this,a("6e42")["default"],a("0de9")["default"])}},[["b008","common/runtime","common/vendor"]]]);